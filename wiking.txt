 CREATE TABLE postac (id_postaci int NOT NULL PRIMARY KEY AUTO_INCREMENT, nazwa varchar(40), rodzaj ENUM('wiking', 'ptak', 'kobieta'), data_ur DATE, wiek int unsigned);


 INSERT INTO postac VALUES (1, "Bjorn", "wiking", "1503-03-15", 35);

 INSERT INTO postac VALUES (2, "Drozda", "ptak", "15030-03-15", 5);
 INSERT INTO postac VALUES (3, "Tesciowa", "ptak", "1500-03-15", 85);
UPDATE postac SET wiek=88 WHERE id_postaci=3;
 CREATE TABLE walizka (id_walizki int NOT NULL PRIMARY KEY AUTO_INCREMENT, pojemnosc int unsigned, kolor ENUM('rozowy', 'czerwony', 'teczowy', 'zolty'), id_wlasciciela int ,FOREIGN KEY(id_wlasciciela) REFERENCES postac(id_postaci)
ON DELETE CASCADE ON UPDATE CASCADE);
ALTER TABLE walizka ALTER kolor SET DEFAULT "rozowy";
INSERT INTO walizka VALUES (1, 3, "czerwony", 1);
 INSERT INTO walizka VALUES (3, 15, "teczowy", 3);
 CREATE TABLE izba (adres_budynku int NOT NULL, nazwa_izby varchar(20) NOT NULL,PRIMARY KEY(adres_budynku, nazwa_izby),  metraz int unsigned, wlasciciel int, FOREIGN KEY(wlasciciel) REFERENCES postac(id_postaci) ON DELETE SET NULL)
;
ALTER TABLE izba  ADD kolor_izby varchar(20);
 ALTER TABLE izba ALTER kolor_izby SET DEFAULT "czarny";
 CREATE TABLE przetwory(id_przetworu int NOT NULL PRIMARY KEY, rok_produkcji YEAR, id_wykonawcy int, FOREIGN KEY(id_wykonawcy) REFERENCES postac(id_postaci), zawartosc varchar(30), dodatek varchar(30), id_konsumenta int, FOREIGN KEY(id_konsumenta) REFERENCES postac(id_postaci));
 ALTER TABLE przetwory ALTER rok_produkcji SET DEFAULT 1954;
ALTER TABLE przetwory ALTER dodatek SET DEFAULT "papryczka chilli";
 INSERT INTO przetwory VALUES (1, 1994, 3, "bigos", "papryczka chilli", 1);
INSERT INTO postac(id_postaci) VALUES (4);
INSERT INTO postac(id_postaci) VALUES (5);
 INSERT INTO postac(id_postaci) VALUES (6);
 INSERT INTO postac(id_postaci) VALUES (7);
 INSERT INTO postac(id_postaci) VALUES (8);
CREATE TABLE statek (nazwa_statku int NOT NULL PRIMARY KEY, rodzaj_statku ENUM(''), data_wodowania DATE, max_ladownosc int unsigned);
 INSERT INTO statek(nazwa_statku) VALUES('1');
INSERT INTO statek(nazwa_statku) VALUES(2);
 ALTER TABLE postac ADD funkcja varchar(30);
 UPDATE postac SET funkcja="kapitan" WHERE nazwa="Bjorn";
 ALTER TABLE postac ADD statek int;
ALTER TABLE postac ADD FOREIGN KEY(statek) REFERENCES statek(nazwa_statku);
UPDATE postac SET statek=1 WHERE rodzaj="wiking";
UPDATE postac SET statek=2 WHERE rodzaj="ptak";
DROP TABLE izba;


LEKCJA 2

DELETE FROM postac WHERE id_postaci=4;
DELETE FROM postac WHERE id_postaci=5;
DELETE FROM postac WHERE id_postaci=6;
ALTER TABLE lipnickij.walizka DROP FOREIGN KEY walizka_ibfk_1;
ALTER TABLE lipnickij.przetwory DROP FOREIGN KEY przetwory_ibfk_1;
ALTER TABLE lipnickij.przetwory DROP FOREIGN KEY przetwory_ibfk_2;
ALTER TABLE postac MODIFY id_postaci int NOT NULL;
ALTER TABLE postac DROP PRIMARY KEY;
ALTER TABLE postac MODIFY pesel varchar(11) NOT NULL PRIMARY KEY; ;
ALTER TABLE postac MODIFY rodzaj ENUM('wiking', 'ptak', 'tesciowa', 'syrena');
INSERT INTO postac VALUES(4, "Gertruda Nieszczera", "syrena",15030319, 45, NULL, NULL, 12345678901);
UPDATE postac SET statek=1 WHERE nazwa="%a%";
UPDATE statek SET max_ladownosc=max_ladownosc*0.7 WHERE data_wodowania=data_wodowania>1900 && data_wodowania<20010101;
SELECT * FROM postac WHERE wiek<1000;
INSERT INTO postac VALUES(5, "Loko", "syrena", 14030311, 154, NULL, NULL, 14329505410);
CREATE TABLE Marynarz LIKE postac;
INSERT INTO Marynarz SELECT * FROM postac WHERE statek IS NOT NULL;





